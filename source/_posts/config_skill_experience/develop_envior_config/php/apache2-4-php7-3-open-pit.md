---
title: 记一次 apache 2.4 启动的坑
date: 2019-09-23 09:23:52
categories:
- 配置技巧/经验
- 开发环境配置（运维）
tags:
- php
---

# 前言

事情是这样的, 接了一个小活, 用的是 thinkphp, 服务器用的 apache。再把他的网站源码 down 下来放到 apache 的 htdocs 上之后启动, 非常给面子的数据库连接出错, 说是找不到驱动(can not find driver)。

# 思路

看到这个问题我马上用 `phpinfo()` 测试了一下, 看到了 `pdo supports` 那里赫然是 `no value`。不过冰雪聪明的我一下子就想到了是 `php.ini` 的问题。所以还在本页面搜索了一下 `extension_dir`, 这个是 php 用来指定扩展的路径。一看还是默认值: `C:/php/ext`, 虽然很久没碰过我电脑里的 php了, 但是我还清楚的记得我配置的扩展路径绝对不是它! 然后我又看了一下 `Loaded Configuration File` 的值, 居然是空! 我有点懵, 然后跑去 apache24/conf/httpd.conf 那里看了一眼配置, 居然是一个不存在的路径! 然后我改回了之后, 信心慢慢的重启 apache 的服务, 居然失败了! 天! 我彻底懵了, 颤抖着手将路径随便改成了一个不存在的路径, 启动, 成功了...

行吧, 看来问题在 php.ini身上, 幸好我还有以前没有修改过的配置备份。换成新的配置文件之后果然就可以启动了。那么我想, 问题肯定就出在我加载的那几个扩展上了, 索性一个一个的试, 果然有几个扩展加了之后就启动不了, 暂时还没找到解决办法, 还是先干活吧! 
